{"version":3,"sources":["webpack:///./src/views/Book.vue?9973","webpack:///./src/views/Book.vue","webpack:///./src/views/Book.vue?2992"],"names":["class","id","_createBlock","_component_el_container","_createVNode","_component_el_header","_component_el_divider","_component_el_main","_createElementVNode","_component_el_form","model","$setup","rules","ref","status-icon","_component_el_space","direction","size","_component_el_row","justify","_component_el_form_item","label","prop","required","_component_el_input","name","$event","autofocusdsad","phone","_component_el_select","roomType","placeholder","_createElementBlock","_Fragment","_renderList","item","_component_el_option","key","value","roomNum","rid","rname","_component_el_date_picker","checkInDay","default-value","type","checkOutDay","_toDisplayString","_component_el_button","auto-insert-space","onClick","setup","store","useStore","baseForm","bookFormData","reactive","Date","setTime","getTime","state","loginStatus","username","roomTypeOption","roomPrice","formRules","pattern","message","trigger","totalPrice","computed","price","stayDays","Math","ceil","roomList","axios","post","console","log","roomNumberList","status","data","i","length","rType","push","order","__exports__","render"],"mappings":"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","file":"js/chunk-77e732dc.63738923.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Book.vue?vue&type=style&index=0&id=27094a4c&lang=less\"","<template>\n  <el-container>\n    <el-header>请告诉我们您想要的预定</el-header>\n    <el-divider id=\"divider\" />\n    <el-main>\n      <div class=\"formDiv\">\n        <el-form\n          id=\"elForm\"\n          :model=\"bookFormData\"\n          :rules=\"formRules\"\n          ref=\"baseForm\"\n          status-icon=\"true\"\n        >\n          <el-space direction=\"vertical\" size=\"50\">\n            <el-row justify=\"center\">\n              <el-form-item\n                class=\"formLabel\"\n                label=\"您的姓名\"\n                prop=\"name\"\n                required\n              >\n                <el-input\n                  id=\"input\"\n                  v-model=\"bookFormData.name\"\n                  autofocusdsad\n                />\n              </el-form-item>\n            </el-row>\n            <el-row justify=\"center\">\n              <el-form-item\n                class=\"formLabel\"\n                label=\"联系电话\"\n                prop=\"phone\"\n                required\n              >\n                <el-input\n                  id=\"input\"\n                  v-model=\"bookFormData.phone\"\n                  autofocusdsad\n                />\n              </el-form-item>\n            </el-row>\n            <el-row>\n              <el-form-item\n                class=\"formLable\"\n                label=\"预定房型\"\n                prop=\"roomType\"\n                required\n              >\n                <el-select\n                  v-model=\"bookFormData.roomType\"\n                  placeholder=\"请选择您要入住的房型\"\n                >\n                  <el-option\n                    v-for=\"item in roomTypeOption\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-row>\n            <el-row>\n              <el-form-item class=\"formLable\" label=\"选择房号\">\n                <el-select v-model=\"bookFormData.roomNum\" placeholder=\"请选择您喜欢的房间号\">\n                  <el-option \n                v-for=\"item in roomNumberList\"\n                :key=\"item.rid\"\n                :label=\"item.rname\"\n                  />\n                </el-select>\n              </el-form-item>\n            </el-row>\n            <el-row>\n              <el-form-item class=\"formLable\" label=\"入住时间\">\n                <el-date-picker\n                  v-model=\"bookFormData.checkInDay\"\n                  default-value=\"bookFormData.checkInDay\"\n                  type=\"date\"\n                />\n              </el-form-item>\n            </el-row>\n            <el-row>\n              <el-form-item class=\"formLable\" label=\"退房时间\">\n                <el-date-picker v-model=\"bookFormData.checkOutDay\" />\n              </el-form-item>\n            </el-row>\n            <el-row>\n              <span id=\"priceSpan\">价格：{{ totalPrice }} 元</span>\n            </el-row>\n            <el-button id=\"loginBtn\" auto-insert-space @click=\"order\"\n              >立即预定</el-button\n            >\n          </el-space>\n        </el-form>\n      </div>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport { reactive, ref, computed } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    const baseForm = ref(null);\n    const bookFormData = reactive({\n      name: \"\",\n      phone: \"\",\n      roomType: 1,\n      roomNum: '',\n      checkInDay: new Date().setTime(new Date().getTime()),\n      checkOutDay: new Date().setTime(new Date().getTime() + 3600 * 1000 * 24),\n    });\n    bookFormData.name = store.state.loginStatus.username;\n    const roomTypeOption = [\n      {\n        value: 1,\n        label: \"单人间\",\n      },\n      {\n        value: 2,\n        label: \"双人间\",\n      },\n      {\n        value: 3,\n        label: \"商务间\",\n      },\n      {\n        value: 4,\n        label: \"豪华间\",\n      },\n      {\n        value: 5,\n        label: \"行政间\",\n      },\n      {\n        value: 6,\n        label: \"套间\",\n      },\n      {\n        value: 7,\n        label: \"双套间\",\n      },\n      {\n        value: 8,\n        label: \"高级套间\",\n      },\n      {\n        value: 9,\n        label: \"复式套间\",\n      },\n    ];\n    const roomPrice = [112, 225, 338, 450, 562, 675, 788, 900, 1022, 1134];\n    const formRules = {\n      name: [\n        {\n          pattern: \"^[\\\\u4E00-\\\\u9FA5A-Za-z\\\\s]+(·[\\\\u4E00-\\\\u9FA5A-Za-z]+)*$\",\n          required: true,\n          message: \"我们需要知道您的姓名\",\n          trigger: \"blur\",\n        },\n      ],\n      phone: [\n        {\n          pattern:\n            \"^(?:(?:\\\\+|00)86)?1(?:(?:3[\\\\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\\\\d])|(?:9[189]))\\\\d{8}$\",\n          required: true,\n          message: \"我们无法验证这个手机号码\",\n          trigger: \"blur\",\n        },\n      ],\n      roomType: [\n        {\n          required: true,\n          message: \"请选择您要入住的房型\",\n          trigger: \"change\",\n        },\n      ],\n    };\n\n    let totalPrice = computed(() => {\n      let price = 0;\n      let stayDays = 1;\n      let roomType = bookFormData.roomType;\n      stayDays = Math.ceil(\n        (bookFormData.checkOutDay - bookFormData.checkInDay) /\n          (3600 * 1000 * 24)\n      );\n      price = stayDays * roomPrice[roomType - 1];\n      return price;\n    });\n\n    \n\n    const roomList = axios.post(\"http://hotel.lynnrin.top/api/room/searchRoom\")\n\n    console.log(\"[DEBUG] roomList\", roomList);\n    let roomNumberList = computed(() => {\n        // 根据 roomType 过滤 roomList \n        if (roomList.status != 0) return null;\n        let roomType = bookFormData.roomType;\n        let roomList = roomList.data;\n        let roomNumberList = [];\n        for (let i = 0; i < roomList.length; i++) {\n          if (roomList[i].rType == roomType) {\n            roomNumberList.push(roomList[i]);\n          }\n        }\n        return roomNumberList;\n    })\n\n    const order = () => {\n      console.log(bookFormData);\n    };\n\n    return {\n      baseForm,\n      bookFormData,\n      roomTypeOption,\n      formRules,\n      totalPrice,\n      order,\n      roomNumberList,\n    };\n  },\n};\n</script>\n\n<style lang=\"less\">\nhtml,\nbody {\n  font-family: \"SF Pro Display Regular\";\n  font-size: 42px;\n  text-align: center;\n  background: url(\"~@/assets/images/loginBackground.png\");\n}\n\n#divider {\n  margin: 0 auto;\n  margin-top: 24px;\n  margin-bottom: 24px;\n  border-radius: 3px;\n  border-color: #7e8ca7;\n  width: 700px;\n}\n\n.formDiv {\n  .el-form-item__label {\n    text-align: justify;\n    color: #fff;\n    font-size: 29px;\n  }\n  .el-form-item.is-required .el-form-item__label:before {\n    content: none !important;\n  }\n  .el-input {\n    width: 240px;\n  }\n  .el-form-item__error {\n    color: #c73e3a;\n    font-size: 17px;\n    margin-top: 3px;\n    margin-bottom: 3px;\n  }\n  #elForm {\n    #loginBtn {\n      margin-top: 27px;\n      margin-left: 60px;\n      width: 200px;\n      height: 50px;\n      font-size: 21px;\n      font-family: \"SF Pro Display Regular\";\n      color: #fff;\n      background-color: #e0b973;\n      border: 1px solid #e0b973;\n      border-radius: 13px;\n    }\n    #priceSpan {\n      font-size: 27px;\n    }\n  }\n}\n</style>\n","import { render } from \"./Book.vue?vue&type=template&id=27094a4c\"\nimport script from \"./Book.vue?vue&type=script&lang=js\"\nexport * from \"./Book.vue?vue&type=script&lang=js\"\n\nimport \"./Book.vue?vue&type=style&index=0&id=27094a4c&lang=less\"\n\nimport exportComponent from \"/home/runner/work/Hotel-Management-System-front-end/Hotel-Management-System-front-end/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}